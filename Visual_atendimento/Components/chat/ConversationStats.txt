import React from 'react';
import { Card, CardContent } from "@/components/ui/card";
import { 
  MessageCircle, 
  Bot, 
  User, 
  Clock, 
  CheckCircle,
  AlertTriangle,
  TrendingUp
} from "lucide-react";

export default function ConversationStats({ conversations }) {
  const waiting = conversations.filter(c => c.status === 'waiting').length;
  const aiHandling = conversations.filter(c => c.status === 'ai_handling').length;
  const humanHandling = conversations.filter(c => c.status === 'human_handling').length;
  const pendingTransfer = conversations.filter(c => c.status === 'pending_transfer').length;
  const resolved = conversations.filter(c => c.status === 'resolved').length;
  const urgent = conversations.filter(c => c.priority === 'urgent' || c.priority === 'high').length;

  const stats = [
    { 
      label: 'Aguardando', 
      value: waiting, 
      icon: Clock, 
      color: 'text-amber-600',
      bg: 'bg-amber-50',
      border: waiting > 0 ? 'border-amber-200' : ''
    },
    { 
      label: 'IA', 
      value: aiHandling, 
      icon: Bot, 
      color: 'text-violet-600',
      bg: 'bg-violet-50',
      border: ''
    },
    { 
      label: 'Humano', 
      value: humanHandling, 
      icon: User, 
      color: 'text-blue-600',
      bg: 'bg-blue-50',
      border: ''
    },
    { 
      label: 'Transferir', 
      value: pendingTransfer, 
      icon: TrendingUp, 
      color: 'text-orange-600',
      bg: 'bg-orange-50',
      border: pendingTransfer > 0 ? 'border-orange-200' : ''
    },
    { 
      label: 'Resolvidos', 
      value: resolved, 
      icon: CheckCircle, 
      color: 'text-emerald-600',
      bg: 'bg-emerald-50',
      border: ''
    },
    { 
      label: 'Urgentes', 
      value: urgent, 
      icon: AlertTriangle, 
      color: 'text-red-600',
      bg: 'bg-red-50',
      border: urgent > 0 ? 'border-red-200' : ''
    },
  ];

  return (
    <div className="grid grid-cols-3 md:grid-cols-6 gap-2 p-3 bg-white border-b">
      {stats.map((stat, idx) => {
        const Icon = stat.icon;
        return (
          <div 
            key={idx} 
            className={`flex items-center gap-2 p-2 rounded-lg ${stat.bg} ${stat.border} border transition-all cursor-pointer hover:scale-105`}
          >
            <Icon className={`w-4 h-4 ${stat.color}`} />
            <div>
              <p className={`text-lg font-bold ${stat.color}`}>{stat.value}</p>
              <p className="text-xs text-slate-500">{stat.label}</p>
            </div>
          </div>
        );
      })}
    </div>
  );
}