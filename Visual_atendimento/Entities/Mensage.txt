{
  "name": "Message",
  "type": "object",
  "properties": {
    "conversation_id": {
      "type": "string",
      "description": "ID da conversa"
    },
    "sender_type": {
      "type": "string",
      "enum": [
        "customer",
        "agent",
        "ai",
        "system"
      ],
      "description": "Tipo do remetente"
    },
    "sender_id": {
      "type": "string",
      "description": "ID do remetente"
    },
    "sender_name": {
      "type": "string",
      "description": "Nome do remetente"
    },
    "content": {
      "type": "string",
      "description": "Conte\u00fado da mensagem"
    },
    "message_type": {
      "type": "string",
      "enum": [
        "text",
        "image",
        "document",
        "audio",
        "video",
        "location",
        "product",
        "template"
      ],
      "default": "text",
      "description": "Tipo da mensagem"
    },
    "media_url": {
      "type": "string",
      "description": "URL da m\u00eddia (se aplic\u00e1vel)"
    },
    "metadata": {
      "type": "object",
      "description": "Metadados adicionais"
    },
    "is_read": {
      "type": "boolean",
      "default": false,
      "description": "Se foi lida"
    },
    "status": {
      "type": "string",
      "enum": [
        "pending",
        "sent",
        "delivered",
        "read",
        "failed"
      ],
      "default": "sent",
      "description": "Status de entrega"
    }
  },
  "required": [
    "conversation_id",
    "content"
  ]
}